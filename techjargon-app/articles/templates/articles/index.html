{% extends "_base.html" %} {% load static %} {% block meta %}
<meta name="keywords" content="{{ meta.keywords }}">
<!-- Open Graph Protocol Meta -->
<meta property='og:title' content='techjargon' />
<meta property="og:type" content="website" />
<meta property='og:url' content='{{ meta.full_url_path }}' />
<meta property='og:image' content='http://fidenz.com/wp-content/themes/one-page/images/fidenz.png' />
<meta property='og:image:url' content='http://fidenz.com/wp-content/themes/one-page/images/fidenz.png' />
<meta property='og:image:width' content='1200' />
<meta property='og:image:height' content='630' />
<meta property='og:image:type' content='image/jpeg' />
<meta property='og:description' content='TechJargon is a leading technology index wiki, dedicated to obsessively new technical terms, reviewing new tech products, and breaking tech products and solutions.' />
<!-- END Open Graph Protocol Meta -->
{% endblock %} {% block content %}

<div class="row">
    <div class="col-md-6 col-md-offset-2" id="search">
        <form action="{% url 'articles:search'%}" method="get">
            <input v-model="query" ref="q" name="q" v-on:click="resetSearch" id="txt-search-1" type="text" class="search" placeholder="" autocomplete="off">
        </form>
    </div>
</div>
<div class="row">
    <div class="col-md-2">
        <div class="search-suggestions sidebar-left home">
            <ul class="no-ul">
                <li><a onclick='scrollTo("#search")' v-on:click="resetSearch">search</a></li>
                <li><a onclick='scrollTo("#trendingArticles")'>Trending Articles</a></li>
                <li><a onclick='scrollTo("#latestArticle")'>Recommnded</a></li>
            </ul>
        </div>
    </div>
    <div class="col-md-6">
        <div id="trendingArticles">
            <h2>Trending Articles </h2>
            <ul class="article-list no-ul">
                {% for article in top_articles %}
                <li><a href="{{ article.link }}">{{ article.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
        <div id="latestArticle">
            <h2>Recommnded</h2>
            <ul class="article-list no-ul">
                {% for article in suggested_articles %}
                <li><a href="{{ article.link }}">{{ article.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

{% endblock %} {% block javascript %}

<script>
    app = new VueaApp({
        data: {
            query: null,
            articles: []
        },
        created: function() {
            var articles_str = '{{ meta.article_titles }}';
            this.articles = articles_str.split(",");
        },
        mounted: function() {
            init(this);
        },
        methods: {
            resetSearch: function(e) {
                var _el = $('#txt-search-1');
                $(_el).data('typed').reset();
                $(_el).attr("placeholder", "Search...");
                $(_el).val(null);
                _el.focus();
            }
        }
    });

    function init(app) {
        var typed = $("#txt-search-1").typed({
            strings: app.articles,
            typeSpeed: 100,
            startDelay: 10,
            shuffle: false,
            loop: true,
            loopCount: null,
            showCursor: false,
            backSpeed: 10,
            backDelay: 1800,
            onStringTyped: (arrayPos, self) => {
                app.query = app.articles[arrayPos];
            }
        });
    }
</script>

{% endblock %}